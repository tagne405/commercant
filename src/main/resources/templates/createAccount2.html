<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="navBarUser.html">
<head>

    <title>Create Account</title>
</head>
<body class="bg-light">

<div layout:fragment="content">

    <form th:action="@{/do-register}" method="post" th:object="${customerDto}">
        <div class=" " style=" width: 38%; margin: 10% 30%;">
            <div class="text-center" style="font-weight: bold; font-size: x-large; font-style: italic; ">Cree un Compte</div>

            <div th:if = "${error}" class="text-center alert alert-danger pt-2 pb-2">
                <h4 th:text="${error}"></h4>
            </div>
            <div th:if = "${username}" class="text-center alert-warning pt-2 pb-2">
                <h4 th:text="${username}"></h4>
            </div>
            <div th:if = "${password}" class="text-center alert-warning pt-2 pb-2">
                <h4 th:text="${password}"></h4>
            </div>
            <div th:if = "${success}" class="text-center alert-success pt-2 pb-2">
                <h4 th:text="${success}"></h4>
            </div>

            <div class="mb-3">
                <label for="lastName" class="form-label">Nom</label>
                <input type="name" class="form-control" id="lastName" th:field="*{lastName}" name="lastName" placeholder="joe" >
            </div>
            <div class="alert alert-danger" th:if="${#fields.hasErrors('lastName')}"
                th:errors = "*{lastName}">
            </div>

            <div class="mb-3">
                <label for="firstName" class="form-label">Prenom</label>
                <input type="name" class="form-control" id="firstName" th:field="*{firstName}" name="firstName" placeholder="Doe" >
            </div>
            <div class="alert alert-danger" th:if="${#fields.hasErrors('firstName')}"
                th:errors = "*{firstName}">
            </div>

            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Username</label>
                <input type="email" class="form-control" id="exampleFormControlInput1" th:field="*{username}" name="username" placeholder="name@email.com" >
            </div>
            <div class="alert alert-danger" th:if="${#fields.hasErrors('username')}"
                th:errors = "*{username}">
            </div>

            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Mots de Passe</label>
                <input type="password" class="form-control" name="password" id="exampleFormControlInput1" th:field="*{password}" placeholder="password" >
            </div>
            <div class="alert alert-danger" th:if="${#fields.hasErrors('password')}"
                th:errors = "*{password}">
            </div>
            
            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Repete Mots de Passe</label>
                <input type="password" class="form-control" name="" id="exampleFormControlInput1" th:field="*{repeatPassword}" placeholder="password" >
            </div>
            <div class="d-grid gap-2 col-6 mx-auto">
                <button type="submit" style="background: #e3f2fd; margin-left: 25%; font-size: large; font-weight: bold;" class="btn btn-sm">CREER</button>
            </div>
            <div class="text-center mt-5" style="font-size: larger;";>
                <p>Tu as deja un compte? Degage Alors D'ici</p><a th:href="@{/login}" class="text-dark" style="text-decoration: none">Se Connecter</a> 
            </div>
        </div>
    </form>


    <script th:src="@{/javascipt/java.js}" type="text/javascript"></script>
</div>
</body>
</html>